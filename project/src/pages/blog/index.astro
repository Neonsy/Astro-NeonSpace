---
import Layout from '@/layouts/global/RootLayout.astro';
import Search from '@/components/Pages/Blog/Search.astro';
import { db } from '@/db/client';
import { posts } from '@/db/schema';

const initialPosts = await db.select({
  slug: posts.slug,
  title: posts.title,
  description: posts.description
}).from(posts).limit(9).all();
---

<Layout title="Blog">
  <Search initialPosts={initialPosts} />
</Layout>
