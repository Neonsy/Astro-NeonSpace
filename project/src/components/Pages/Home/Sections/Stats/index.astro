---
import { fetchGithubStats } from '@/lib/services/github';

import Stats from '@/components/Pages/Home/Sections/Stats';

Astro.response.headers.set('cache-control', 'public, max-age=0, s-maxage=86400, stale-while-revalidate=604800');
Astro.response.headers.set('netlify-cdn-cache-control', 'public, s-maxage=86400, stale-while-revalidate=604800');

const stats = await fetchGithubStats('neonsy', import.meta.env.GITHUB_TOKEN);
---

<Stats client:visible stats={stats} />
