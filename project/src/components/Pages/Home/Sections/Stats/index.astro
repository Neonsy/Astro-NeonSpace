---
import { fetchGithubStats } from '@/lib/services/github';

import Stats from '@/components/Pages/Home/Sections/Stats';

Astro.response.headers.set('cache-control', 'no-cache');
Astro.response.headers.set(
  'netlify-cdn-cache-control',
  'public, s-maxage=86400, stale-while-revalidate=604800, immutable'
);
Astro.response.headers.delete('netlify-vary');

const stats = await fetchGithubStats('neonsy', import.meta.env.GITHUB_TOKEN);
---

<Stats client:visible stats={stats} />
